---
title: "Ficha2"
author: "Diogo Silva"
date: "2025-10-07"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

1.  Os dados da tabela representam o comprimento alar em função da idade de andorinhas. Verifique se existe uma relação linear entre as duas variáveis. Idade (dias) 3 4 5 6 8 9 10 11 12 14 15 16 17 Comprimento Alar (cm) 1.4 1.5 2.2 2.4 3.1 3.2 3.2 3.9 4.1 4.7 4.5 5.2 5.0

```{r}
#dados = read.csv("dados_Ficha2/comp_alar.txt", header = TRUE, sep=" ",dec=".")
#dados


idade = c(3,4,5,6,8,9,10,11,12,14,15,16,17)

comprAlar = c(1.4,1.5,2.2,2.4,3.1,3.2,3.2,3.9,4.1,4.7,4.5,5.2,5.0)

x= idade
y = comprAlar

```

## Gráfico de dispersão

```{r}
plot(x,y,main="Gráfico Dispersão sem dataframe",col="red",xlab = "Idades", ylab="Comprimento Alar em cm")
```

```{r}
#yhat é um objeto que é um dataframe com vários objetos
yhat = lm(y~x)
plot(y,x,main="Gráfico Dispersão utilizando dataframe",col="red",xlab = "Idades", ylab="Comprimento Alar em cm")
abline(lm(y~x), lty = 2)
summary(yhat)
```

-   yhat é um objeto que é um dataframe com vários objetos

```{r}
predict(yhat,data.frame(x=sort(x)),level = .95, interval="confidence")
plot(x,y)
abline(yhat)
```

```{r}
ci.lwr = predict(yhat,data.frame(x=sort(x)),level=.95,interval="confidence")[,2]

points(sort(x),ci.lwr,type="1",lty=2)
curve(predict(yhat,data.frame(x=x),interval = "confidence"))
```

## 2.

Introduzir dados

```{r}
dataex2 <- data.frame(
  temp = c(-18, -15, -10, -5, 0, 5, 10, 19),
  oxigenio = c(5.2, 4.7, 4.5, 3.6, 3.4, 3.1, 2.7, 1.8)
)
```

Gráfico de relação

```{r}
plot(dataex2$temp,dataex2$oxigenio,
     main = "Consumo de Oxigenio vs Temp",
     xlab = "Temp",
     ylab = "Oxigenio",
     pch = 19, col = "light blue")
```

Regressão linear

```{r}
plot(dataex2$temp,dataex2$oxigenio,
     main = "Consumo de Oxigenio vs Temp",
     xlab = "Temp",
     ylab = "Oxigenio",
     pch = 19, col = "light blue")
modelo2 <- lm(oxigenio ~ temp, data = dataex2)
summary(modelo2)
abline(modelo2, col = "red", lwd = 2)
```

#### a.

Dos coeficientes que conseguimos no summary do modelo2 temos que Coeficiente de Intercept = 3.4714 e do temp = -0.0878

Portanto: $$\hat{y} = 3.4714 -0.0878x$$

#### b. Teste a hipotese, $H_0:\beta_1=0$

A equação de regressão é: $$\hat{y}=\beta_0 + \beta_1x$$

Queremos testar se a inclinação $\beta_1$ (o efeito da temp sobre o consumo de oxigénio) é estatisticamente diferente de 0.

Temos 2 hipóteses:

$H_0 : \beta_1 = 0 \quad \text{não há relação linear}$

$H_1 : \beta_1 \neq 0 \quad \text{há relação linear}$

Podemos fazer o teste no R:

```{r}
modelo2 = lm(oxigenio ~ temp, data = dataex2)
summary(modelo2)
```

Estimate($\beta_1$) - \> -0.0877 -\> a inclinação é negativa: à medida que a temp aumenta, o consumo de oxigénio diminui.

t value = -17.58

# nao entendi...
